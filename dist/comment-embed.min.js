(function(b,e){var d=b.document,c=function(k){var f=typeof(k),h=[];if(k){if(f==="function"){return c.ready(k)}if(f==="object"){h=h.concat(k)}if(f==="string"){for(var j=0,l=d.querySelectorAll(k),g=l.length;j<g;j++){h[j]=l[j]}}}else{h.push(d)}return c.extend(h,c.fn)};c.extend=function(h,f){for(var g in f){if(f.hasOwnProperty(g)){h[g]=f[g]}}return h};c.ready=function(g){var f=false,i=[],h=function(){if(!f){while(i.length){i.shift().call(d)}f=true}};if(!b.addEventListener){b.addEventListener=function(k,j){return b.attachEvent("on"+k,j)}}b.addEventListener("DOMContentLoaded",h,false);b.addEventListener("readystatechange",h,false);b.addEventListener("load",h,false);if(d.readyState==="complete"){h()}if(f&&g){g.call(d)}else{if(g){i.push(g)}else{h()}}return[d]};c.fn={};c.fn.each=function(h){for(var g=0,f=this.length;g<f;g++){h.call(this[g],g)}return this};c.fn.data=function(f,g){if(f===e){return this[0].alaData}else{if(g===e){return this[0].getAttribute("data-"+f)||this[0].alaData&&this[0].alaData[f]}else{return this.each(function(){if(!this.alaData){this.alaData={}}this.alaData[f]=g})}}};c.fn.bind=function(g,j){var f=g.split(" "),i=this;function h(k){return j.apply(i,[k].concat(k._args))}return this.each(function(){for(var l=0,k=f.length;l<k;l++){if("addEventListener" in this){this.addEventListener(f[l],h,false)}else{if(this.attachEvent){this.attachEvent("on"+f[l],h)}}}})};c.fn.prev=function(){var f=this[0].previousSibling;while(f&&f.nodeType!==1){f=f.previousSibling}return f};c.fn.trigger=function(g,h){var f=g.split(" ");return this.each(function(){for(var l=0,k=f.length;l<k;l++){if(d.createEvent){var m=d.createEvent("Event");m.initEvent(f[l],true,true);m._args=h;this.dispatchEvent(m)}else{if(d.createEventObject){var j=d.createEventObject();j._args=h;j.eventType=g;this.fireEvent(g,j)}}}})};c.fn.throttle=function(g,f){var h=null;return function(){var j=this,i=arguments;clearTimeout(h);h=setTimeout(function(){g.apply(j,i)},f)}};var a=(function(){var f=false;try{f=new XMLHttpRequest()}catch(g){f=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return f}}());c.ajax=function(g,f){var i=a(),h=c.ajax.settings;if(f){c.extend(h,f)}if(!g){g=h.url}if(!i||!g){return}i.open(h.method,g+h.data,h.async);i.onreadystatechange=function(){if(i.readyState!==4||i.status!==200&&i.status!==304){return h.error(i.responseText)}else{if(i.readyState===4){h.success(i.responseText,i.status,i)}}};if(i.readyState===4){return}i.send(null)};c.ajax.settings={success:function(){},error:function(){},method:"GET",async:true,data:null};b.ala=c}(this));(function(a,f){var d=a.ala,c="script",e={pluginName:"comment-embed",endpoint:"sample-endpoint.php"},b={_init:function(){var g=d(this);if(g.data("init")===true){return false}return d(this).trigger(e.pluginName+"-create").data("init",true)[e.pluginName]("_fetchData")},_injectiframe:function(m){var k=document.createElement("iframe"),i=d(this),h=i.data("comment"),l=d(this).prev(),j=function(n){if(n.contentWindow){j=n.contentWindow}else{if(n.contentDocument&&n.contentDocument.document){j=n.contentDocument.document}else{j=n.contentDocument}}return j},g;k.width="100%";k.frameborder="0";k.style.padding="0";k.scrolling="no";k.style.border="none";k.style.minHeight="96px";k.style.maxWidth="85%";k.style.marginRight="auto";k.style.marginLeft="auto";k.style.border="1px solid #dddddd";k.style.borderRadius="6px";k.style.boxShadow="3px 2px 15px -5px rgba(238, 238, 238,1)";if(l&&l.getAttribute("id")==="comment-"+h){this.parentNode.replaceChild(k,l)}else{this.parentNode.insertBefore(k,this)}g=j(k);g.document.open();g.document.write(m);g.document.getElementsByTagName("link")[0].onload=function(){i[e.pluginName]("_handleResize",k)};g.document.close()},_fetchData:function(){var h=d(this),g=h.data("comment");d.ajax(e.endpoint,{data:"?id="+g,async:false,success:function(i){h[e.pluginName]("_injectiframe",i)}})},_handleResize:function(g){var h=function(){g.height=g.contentWindow.document.getElementById("comment").scrollHeight+9};h();d(a).bind("resize",d.fn.throttle(h,100))}};d.fn[e.pluginName]=function(i,h,g,j){return this.each(function(){if(i&&typeof(i)==="string"){return d.fn[e.pluginName].prototype[i].call(this,h,g,j)}if(d(this).data(e.pluginName+"data")){return d(this)}d(this).data(e.pluginName+"active",true);d.fn[e.pluginName].prototype._init.call(this)})};d.extend(d.fn[e.pluginName].prototype,b);d(c).each(function(){var g=d(this);if(g.data("comment")){g[e.pluginName]()}})}(this));