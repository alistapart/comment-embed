(function(b,e){var d=b.document,c=function(k){var f=typeof(k),h=[];if(k){if(f==="function"){return c.ready(k)}if(f==="object"){h=h.concat(k)}if(f==="string"){for(var j=0,l=d.querySelectorAll(k),g=l.length;j<g;j++){h[j]=l[j]}}}else{h.push(d)}return c.extend(h,c.fn)};c.extend=function(h,f){for(var g in f){if(f.hasOwnProperty(g)){h[g]=f[g]}}return h};c.ready=function(g){var f=false,i=[],h=function(){if(!f){while(i.length){i.shift().call(d)}f=true}};if(!b.addEventListener){b.addEventListener=function(k,j){return b.attachEvent("on"+k,j)}}b.addEventListener("DOMContentLoaded",h,false);b.addEventListener("readystatechange",h,false);b.addEventListener("load",h,false);if(d.readyState==="complete"){h()}if(f&&g){g.call(d)}else{if(g){i.push(g)}else{h()}}return[d]};c.fn={};c.fn.each=function(h){for(var g=0,f=this.length;g<f;g++){h.call(this[g],g)}return this};c.fn.data=function(f,g){if(f===e){return this[0].alaData}else{if(g===e){return this[0].getAttribute("data-"+f)||this[0].alaData&&this[0].alaData[f]}else{return this.each(function(){if(!this.alaData){this.alaData={}}this.alaData[f]=g})}}};c.fn.bind=function(g,j){var f=g.split(" "),i=this;function h(k){return j.apply(i,[k].concat(k._args))}return this.each(function(){for(var l=0,k=f.length;l<k;l++){if("addEventListener" in this){this.addEventListener(f[l],h,false)}else{if(this.attachEvent){this.attachEvent("on"+f[l],h)}}}})};c.fn.trigger=function(g,h){var f=g.split(" ");return this.each(function(){for(var l=0,k=f.length;l<k;l++){if(d.createEvent){var m=d.createEvent("Event");m.initEvent(f[l],true,true);m._args=h;this.dispatchEvent(m)}else{if(d.createEventObject){var j=d.createEventObject();j._args=h;j.eventType=g;this.fireEvent(g,j)}}}})};c.fn.throttle=function(g,f){var h=null;return function(){var j=this,i=arguments;clearTimeout(h);h=setTimeout(function(){g.apply(j,i)},f)}};var a=(function(){var f=false;try{f=new XMLHttpRequest()}catch(g){f=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return f}}());c.ajax=function(g,f){var i=a(),h=c.ajax.settings;if(f){c.extend(h,f)}if(!g){g=h.url}if(!i||!g){return}i.open(h.method,g+h.data,h.async);i.onreadystatechange=function(){if(i.readyState!==4||i.status!==200&&i.status!==304){return h.error(i.responseText)}else{if(i.readyState===4){h.success(i.responseText,i.status,i)}}};if(i.readyState===4){return}i.send(null)};c.ajax.settings={success:function(){},error:function(){},method:"GET",async:true,data:null};b.ala=c}(this));(function(k,c){var f=k.ala,j="script",b={pluginName:"ala-embedded-comment",endpoint:"sample-endpoint.php"},d={_init:function(){var i=f(this);if(i.data("init")===true){return false}return f(this).trigger(b.pluginName+"-create").data("init",true)[b.pluginName]("_fetchData")},_injectiframe:function(p){var o=document.createElement("iframe"),m=f(this),l=m.data("comment"),q=k.document.getElementById(b.pluginName+"-"+l),n=function(r){if(r.contentWindow){n=r.contentWindow}else{if(r.contentDocument&&r.contentDocument.document){n=r.contentDocument.document}else{n=r.contentDocument}}return n},i;o.width="100%";o.frameborder="0";o.style.padding="0";o.scrolling="no";o.style.border="none";o.style.minHeight="96px";o.style.maxWidth="75%";o.style.marginRight="auto";o.style.marginLeft="auto";o.style.border="1px solid #dddddd";o.style.borderRadius="6px";o.style.boxShadow="3px 2px 15px -5px rgba(238, 238, 238,1)";if(q){q.parentNode.replaceChild(o,q)}else{this.parentNode.insertBefore(o,this)}i=n(o);i.document.open();i.document.write(p);i.document.getElementsByTagName("link")[0].onload=function(){m[b.pluginName]("_handleResize",o)};i.document.close()},_fetchData:function(){var l=f(this),i=l.data("comment");f.ajax(b.endpoint,{data:"?id="+i,async:false,success:function(m){l[b.pluginName]("_injectiframe",m)}})},_handleResize:function(i){var l=function(){i.height=i.contentWindow.document.getElementById(b.pluginName).scrollHeight+3};l();f(k).bind("resize",f.fn.throttle(l,100))}};f.fn[b.pluginName]=function(m,l,i,n){return this.each(function(){if(m&&typeof(m)==="string"){return f.fn[b.pluginName].prototype[m].call(this,l,i,n)}if(f(this).data(b.pluginName+"data")){return f(this)}f(this).data(b.pluginName+"active",true);f.fn[b.pluginName].prototype._init.call(this)})};f.extend(f.fn[b.pluginName].prototype,d);var g=k.document.getElementsByTagName(j);for(var h=0,e=g.length;h<e;h++){var a=f(g[h]);if(a.data("comment")){a[b.pluginName]()}}}(this));